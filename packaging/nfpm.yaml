name: sonos-sound-hub
arch: "$ARCH"
platform: linux
version: "$VERSION"
section: utils
priority: optional
maintainer: Sonos Sound Hub <noreply@example.com>
description: Self-hosted Sonos control UI and API for Raspberry Pi
license: MIT
depends:
  - python3
  - python3-venv
  - pipx
  - jq
scripts:
  postinstall: packaging/postinstall.sh
contents:
  # Python application
  - src: "api-python/src/**"
    dst: /opt/sonos-sound-hub/src
    type: file
  - src: "api-python/pyproject.toml"
    dst: /opt/sonos-sound-hub/pyproject.toml
    type: file
  # Static web files
  - src: "wwwroot/**"
    dst: /opt/sonos-sound-hub/wwwroot
    type: file
  # Data directory (macros)
  - src: "data/**"
    dst: /opt/sonos-sound-hub/data
    type: config
  # Systemd service
  - src: "packaging/sonos-sound-hub.service"
    dst: /etc/systemd/system/sonos-sound-hub.service
    type: file
  # MCP Server for AI assistant integration
  - src: "sonos-mcp-server/pyproject.toml"
    dst: /opt/sonos-sound-hub/sonos-mcp-server/pyproject.toml
    type: file
  - src: "sonos-mcp-server/README.md"
    dst: /opt/sonos-sound-hub/sonos-mcp-server/README.md
    type: file
  - src: "sonos-mcp-server/src/sonos_mcp_server/**"
    dst: /opt/sonos-sound-hub/sonos-mcp-server/src/sonos_mcp_server
    type: file
